{
   "information_for_contributors": [
      "This grammer is based on https://github.com/jason-lang/atom-mas2j, which is available under the GNU LESSER GENERAL PUBLIC LICENSE ."
   ],
   "scopeName": "jason",
   "name": "Agent Speak Language file",
   "patterns": [
      { "include": "#comments" },   
      {
			"begin": "<-\\s*",
			"beginCaptures": { "0": { "name": "keyword.other.asl" } },
			"end": "\\s*(\\.\\s)",
			"endCaptures": { "0": { "name": "keyword.other.asl" } },
			"patterns": [
            { "include": "#comments" },   
            { "include": "#constants" },   
            { "include": "#strings" },  
            { "include": "#keywords" },     
            { "include": "#goals" },
            { "include": "#actions" },
            { "include": "#operations" },
            { "include": "#supports" },
            { "include": "#variables" }
			]
      },
      {
			"begin": "(\\+|-|\\^)\\s*",
			"beginCaptures": { "0": { "name": "keyword.other.asl" } },
			"end": "\\s*(\\s)",
			"endCaptures": { "0": { "name": "keyword.other.asl" } },
			"patterns": [   
            { "include": "#events" }, 
            { "include": "#constants" },   
            { "include": "#strings" }, 
            { "include": "#supports" },
            { "include": "#variables" }
			]
      },
      {
			"begin": ":\\s*",
			"beginCaptures": { "0": { "name": "keyword.other.asl" } },
			"end": "\\s*(\\s)",
			"endCaptures": { "0": { "name": "keyword.other.asl" } },
			"patterns": [    
            { "include": "#actions" },
            { "include": "#constants" },   
            { "include": "#strings" }, 
            { "include": "#operations" },
            { "include": "#supports" },
            { "include": "#variables" }            
			]
      },
      { "include": "#declaration" },  
      { "include": "#constants" },      
      { "include": "#keywords" },
      { "include": "#strings" },  
      { "include": "#supports" },    
      { "include": "#operators" },  
      { "include": "#variables" }
   ],
   "repository": {
      "comments": {
         "patterns": [
            {
               "begin": "//",
               "end": "$",
               "name": "comment.line.double-slash.asl"
            },
            {
               "begin": "/\\*",
               "end": "\\*/",
               "name": "comment.block.asl"
            }
         ]
      },
      "constants": {
         "patterns": [
            {
               "match": "\\b(true|false)\\b",
               "name": "constant.character.language.asl"
            },
            {
               "match": "\\d+",
               "name": "constant.character.numeric.integer.asl"
            },
            {
               "match": "(\\d*\\.\\d+)([eE][+-]?[0-9]+)?",
               "name": "constant.character.numeric.float.asl"
            }
         ]
      },
      "keywords": {
         "patterns": [
            {
               "match": "\\b(if|while|for|begin|end|atomic)\\b",
               "name": "keyword.control.asl"
            },
            {
               "match": "(div|mod)\\b",
               "name": "keyword.operator.asl"
            }            
         ]
      },
      "operators":{
         "patterns":[
            {
               "match": "(\\+|-|<|>|=<|>=|==|=:=|=|;)",
               "name": "keyword.operator.asl"
            },
            {
               "match": "(~|&|\\||(not\\b))",
               "name": "keyword.operator.asl"
            },
            {
               "match": "(:|<-|\\.$|@|::)",
               "name": "keyword.other.asl"
            }
         ]
      },
      "strings": {
         "patterns": [
            {
               "begin": "\"",
               "end": "\"",
               "name": "string.quoted.double.asl"
            }
         ]
      },
      "declaration":{
         "patterns": [         
            {
               "match": "[!][a-z]\\w*\\b",
               "name": "support.function.goal.achievement.asl"
            },
            {
               "match": "([~])?[a-z]\\w*\\b",
               "name": "support.function.belief.asl"
            }
         ]
      },
      "goals":{
         "patterns": [         
            {
               "match": "[!][!]?[a-z]\\w*\\b",
               "name": "support.function.goal.achievement.asl"
            },
            {
               "match": "[?]([~])?[a-z]\\w*\\b",
               "name": "support.function.goal.test.asl"
            },
            {
               "match": "[!][!]?[A-Z]\\w*::\\w*\\b",
               "name": "support.function.goal.achievement.asl"
            },
            {
               "match": "[?]([~])?[A-Z]\\w*::\\w*\\b",
               "name": "support.function.goal.test.asl"
            }
         ]
      },
      "events":{
         "patterns":[
            {
               "match": "([~])?[a-z]\\w*\\b",
               "name": "support.function.event.belief.asl"
            },
            {
               "match": "[!]([~])?[a-z]\\w*\\b",
               "name": "support.function.event.goal.asl"
            }
         ]
      },
      "actions":{
         "patterns":[
            {
               "match": "\\.[a-z][\\w*\\.]*",
               "name": "support.function.internal_action.std.asl"
            },
            {
               "match": "([a-z][\\w]*)\\.[\\w\\.]+",
               "name": "support.function.internal_action.asl"
            },
            {
               "match": "[-\\+]([~])?[a-z]\\w*\\b",
               "name": "support.function.belief.deletion.addition.asl"
            },
            {
               "match": "[\\+]([~])?[a-z]\\w*\\b",
               "name": "support.function.belief.addition.asl"
            },
            {
               "match": "[-]([~])?[a-z]\\w*\\b",
               "name": "support.function.belief.deletion.asl"
            }            
         ]
      },
      "operations":{
         "patterns":[
            {
               "match": "([a-z][\\w]*)[\\w\\.]+",
               "name": "support.function.internal_action.asl"
            }
         ]
      },
      "supports": {
         "patterns": [
            {
               "match": "(?:^|\\s)[@]\\w+\\b",
               "name": "constant.numeric.label.asl"
            },            
            {
               "match": "[a-z][\\w]*",
               "name": "support.type.atom.asl"
            },
            {
               "match": "([A-Z]|[a-z])[\\w]*::",
               "name": "support.type.module.asl"
            }
         ]
      },
      "variables": {
         "patterns": [
            {
               "match": "\\b[A-Z]\\w*\\b",
               "name": "variable.other.asl"
            },
            {
               "match": "\\b_\\b",
               "name": "variable.other.asl"
            }
         ]
      }
   }
}
